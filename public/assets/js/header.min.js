"use strict";function _mutation(e){if(e.length){if(1===e.length)return"string"==typeof e[0]?document.createTextNode(e[0]):e[0];for(var t,n=document.createDocumentFragment(),i=e.length,r=-1;++r<i;)t=e[r],n.appendChild("string"==typeof t?document.createTextNode(t):t);return n}throw new Error("DOM Exception 8")}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))},String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".navbar__burger");e&&e.addEventListener("click",function(t){var n=document.querySelector(".navbarm__collapse");n&&("true"===n.getAttribute("data-open")?(n.setAttribute("data-open","false"),n.style.maxHeight=0,e.classList.remove("is-active")):(n.setAttribute("data-open","true"),n.style.maxHeight=n.scrollHeight+"px",e.classList.add("is-active")))});var t=document.querySelectorAll(".single__contents > table");for(let e=0;e<t.length;e++){var n=t[e],i=document.createElement("div");i.className="table-wrapper",n.parentElement.replaceChild(i,n),i.appendChild(n)}var r=document.querySelectorAll(".footnote-ref"),s=document.querySelectorAll(".footnote-backref");r&&r.forEach(function(e,t){e.onmouseenter=function(){y.classList.contains("scrolling")&&y.classList.remove("scrolling")},e.onmouseleave=function(){y.classList.contains("scrolling")||setTimeout(function(){y.classList.add("scrolling")},100)},e.onclick=function(){y.classList.contains("scrolling")||(y.classList.remove("navbar--show"),y.classList.remove("navbar--hide"),y.classList.add("navbar--hide"))}}),s&&s.forEach(function(e,t){e.onmouseenter=function(){y.classList.contains("scrolling")&&y.classList.remove("scrolling")},e.onmouseleave=function(){y.classList.contains("scrolling")||setTimeout(function(){y.classList.add("scrolling")},100)},e.onclick=function(){y.classList.contains("scrolling")||(y.classList.remove("navbar--show"),y.classList.remove("navbar--hide"),y.classList.add("navbar--hide"))}});var c=document.querySelector(".summary__container"),l=document.querySelector(".search-result"),o=document.querySelector(".search-result__close");o&&o.addEventListener("click",function(e){l.setAttribute("data-display","none"),c.setAttribute("data-display","block")}),document.querySelectorAll(".tab")&&document.querySelectorAll(".tab").forEach(function(e,t){e.getAttribute("id");var n=e.querySelectorAll(".tab__link"),i=e.querySelectorAll(".tab__content");n&&n.length>0&&n.forEach(function(e,t,n){e.onclick=function(e){for(var r=0;r<n.length;r++)t===parseInt(r,10)?n[r].classList.contains("active")||(n[r].classList.add("active"),i[r].style.display="block"):(n[r].classList.remove("active"),i[r].style.display="none")}})}),document.querySelectorAll(".codetab")&&document.querySelectorAll(".codetab").forEach(function(e,t){e.getAttribute("id");var n=e.querySelectorAll(".codetab__link"),i=e.querySelectorAll(".codetab__content");n&&n.length>0&&n.forEach(function(e,t,n){e.onclick=function(e){for(var r=0;r<n.length;r++)t===parseInt(r,10)?n[r].classList.contains("active")||(n[r].classList.add("active"),i[r].style.display="block"):(n[r].classList.remove("active"),i[r].style.display="none")}})});var a=document.getElementById("gtt");a.style.display="none",a.addEventListener("click",function(){var e,t,n;window.document.documentMode?document.documentElement.scrollTop=0:(e=250,t=-window.scrollY/(e/15),n=setInterval(function(){0!=window.scrollY?window.scrollBy(0,t):clearInterval(n)},15))});var d=document.querySelectorAll(".expand__button");for(let e=0;e<d.length;e++)d[e].addEventListener("click",function(){var e=this.nextElementSibling;e.style.maxHeight?(e.style.maxHeight=null,this.querySelector("svg").classList.add("expand-icon__right"),this.querySelector("svg").classList.remove("expand-icon__down")):(e.style.maxHeight=e.scrollHeight+"px",this.querySelector("svg").classList.remove("expand-icon__right"),this.querySelector("svg").classList.add("expand-icon__down"))});var u=window.pageYOffset||document.documentElement.scrollTop,m=document.querySelector(".toc"),h=m?m.querySelector("#TableOfContents"):null,p=document.getElementById("toggle-toc"),f=document.querySelector(".single__contents"),y=document.querySelector(".navbar"),v=document.querySelector(".toc__flexbox"),b=document.querySelector(".toc__flexbox--outer"),g=document.querySelectorAll(".expand__content"),E=document.querySelectorAll(".box"),A=null,S=JSON.parse("true"),L=JSON.parse('["h2","h3","h4"]');L=L?L.toString():"h1, h2, h3, h4, h5, h6",f&&f.querySelectorAll(".tab")&&f.querySelectorAll(".tab").forEach(function(e){e.querySelectorAll(L).forEach(function(e){A=Array.isArray(A)?A.concat(e.getAttribute("id")):[e.getAttribute("id")]})}),g&&g.forEach(function(e){e.querySelectorAll(L).forEach(function(e){A=Array.isArray(A)?A.concat(e.getAttribute("id")):[e.getAttribute("id")]})}),E&&E.forEach(function(e){e.querySelectorAll(L).forEach(function(e){A=Array.isArray(A)?A.concat(e.getAttribute("id")):[e.getAttribute("id")]})}),window.onscroll=function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?a.style.display="block":a.style.display="none";var e=window.pageYOffset||document.documentElement.scrollTop;if(e>u){if(a.style.display=e<250?"none":"block",e<45)return null;y.classList.contains("scrolling")&&(y.classList.contains("navbar--hide")?y.classList.contains("navbar--show")&&y.classList.remove("navbar--show"):y.classList.add("navbar--hide")),f&&(f.querySelectorAll(L).length>0?f.querySelectorAll(L).forEach(function(e){if(p&&!p.checked)return null;if(A&&A.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&h){var t=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+t+'"]')&&m.querySelector('a[href="#'+t+'"]').classList.add("active"),!1===S||h.querySelectorAll("ul")&&h.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})});var n=h.querySelector("[href='#"+t+"']");n&&n.nextElementSibling&&(n.nextElementSibling.style.display="block"),getParents(n,"ul")&&getParents(n,"ul").forEach(function(e){e.style.display="block"})}}):(v&&(v.setAttribute("data-position",""),v.classList.contains("hide")||v.classList.add("hide")),b&&(b.setAttribute("data-position",""),b.classList.contains("hide")||b.classList.add("hide"))))}else e<250&&(a.style.display="none"),y.classList.contains("scrolling")&&(y.classList.contains("navbar--hide")?y.classList.remove("navbar--hide"):y.classList.contains("navbar--show")||y.classList.add("navbar--show")),f&&(f.querySelectorAll(L).length>0?f.querySelectorAll(L).forEach(function(e){if(p&&!p.checked)return null;if(A&&A.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&h){var t=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+t+'"]')&&m.querySelector('a[href="#'+t+'"]').classList.add("active"),!1===S||h.querySelectorAll("ul")&&h.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})});var n=h.querySelector("[href='#"+t+"']");n&&n.nextElementSibling&&(n.nextElementSibling.style.display="block"),getParents(n,"ul")&&getParents(n,"ul").forEach(function(e){e.style.display="block"})}}):(v&&!v.classList.contains("hide")&&v.classList.add("hide"),b&&!b.classList.contains("hide")&&b.classList.add("hide"))),h&&document.documentElement.scrollTop<250&&(!1===S||h.querySelector("ul")&&h.querySelector("ul").querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})}));u=e<=0?0:e};var _=localStorage.getItem("theme"),q=document.getElementById("root"),w=document.querySelectorAll(".select-theme"),k=document.querySelectorAll(".select-theme__item"),C=JSON.parse('"dark"'),T=JSON.parse('"light"'),x=JSON.parse('"hacker"'),H=JSON.parse('"solarized"'),N=JSON.parse('"kimbie"'),M=function(e){var t=document.getElementsByName("msapplication-TileColor")[0],n=document.getElementsByName("theme-color")[0],i=document.getElementsByName("msapplication-navbutton-color")[0],r=document.getElementsByName("apple-mobile-web-app-status-bar-style")[0];e.includes("dark")?(t.setAttribute("content","#fcfcfa"),n.setAttribute("content","#403E41"),i.setAttribute("content","#403E41"),r.setAttribute("content","#403E41")):e.includes("light")?(t.setAttribute("content","#555"),n.setAttribute("content","#eee"),i.setAttribute("content","#eee"),r.setAttribute("content","#eee")):e.includes("hacker")?(t.setAttribute("content","#e3cd26"),n.setAttribute("content","#252526"),i.setAttribute("content","#252526"),r.setAttribute("content","#252526")):e.includes("solarized")?(t.setAttribute("content","#d3af86"),n.setAttribute("content","#51412c"),i.setAttribute("content","#51412c"),r.setAttribute("content","#51412c")):e.includes("kimbie")&&(t.setAttribute("content","#586e75"),n.setAttribute("content","#eee8d5"),i.setAttribute("content","#eee8d5"),r.setAttribute("content","#eee8d5"))};_?(k&&k.forEach(function(e){e.text.trim()===_?e.classList.add("is-active"):e.classList.remove("is-active")}),M(_)):M(q.className),k&&k.forEach(function(e,t){e.addEventListener("click",function(e){var t,n=(t=e.target.text.trim())===C?"dark":t===T?"light":t===x?"hacker":t===H?"solarized":t===N?"kimbie":void 0;localStorage.setItem("theme",n),M(n),q.removeAttribute("class"),q.classList.add("theme__"+n),w.forEach(function(e){e.querySelectorAll("a").forEach(function(e){e.classList&&(e.text.trim()===n?e.classList.contains("is-active")||e.classList.add("is-active"):e.classList.contains("is-active")&&e.classList.remove("is-active"))})}),window.mermaid&&("dark"===n||"hacker"===n?(mermaid.initialize({theme:"dark"}),location.reload()):(mermaid.initialize({theme:"default"}),location.reload()));var i=document.getElementById("utterances");i&&i.querySelector("iframe").contentWindow.postMessage({type:"set-theme",theme:"dark"===n||"hacker"===n?"photon-dark":"kimbie"===n?"github-dark-orange":"github-light"},"https://utteranc.es"),document.querySelectorAll(".twitter-timeline")&&window.postMessage({type:"set-twitter-theme",theme:"light"===n||"solarized"===n?"light":"dark"})})});var B,I=JSON.parse('"https://cross.fm/"'),O=JSON.parse('"https://cross.fm/posts/syntax-highlight/"'),J=JSON.parse('"/"'),z=null,R=null,W=null,Y=JSON.parse("true"),D=JSON.parse("true"),P=JSON.parse('"main"'),j=JSON.parse('"posts"'),F=JSON.parse('"page"'),G=null;function U(e,t){z=document.getElementById("search-results"),R=document.getElementById("search-menu"),z.setAttribute("class","dropdown is-active");var n=document.createElement("ul");if(n.setAttribute("class","dropdown-content search-content"),t.length)t.forEach(function(e){var t=document.createElement("li"),i=document.createElement("a");i.setAttribute("href",e.uri),i.setAttribute("class","dropdown-item"),i.appendChild(t);var r=document.createElement("div");r.innerHTML=e.title,r.setAttribute("class","menu-item__title");var s=document.createElement("div");s.setAttribute("class","menu-item__desc"),e.description?s.innerHTML=e.description:e.content&&(s.innerHTML=e.content.substring(0,150)),t.appendChild(r),t.appendChild(s),n.appendChild(i)});else{var i=document.createElement("li");i.setAttribute("class","dropdown-item"),i.innerText="No results found",n.appendChild(i)}for(;R.hasChildNodes();)R.removeChild(R.lastChild);R.appendChild(n)}function X(e,t){z=document.getElementById("search-results"),R=document.getElementById("search-menu"),z.setAttribute("class","dropdown is-active");var n=document.createElement("ul");if(n.setAttribute("class","dropdown-content search-content"),t.length)t.forEach(function(e){var t=document.createElement("li"),i=document.createElement("a"),r=null;i.setAttribute("href",e.item.uri),i.setAttribute("class","dropdown-item"),i.appendChild(t);var s=document.createElement("div");if(s.innerHTML=e.item.title,s.setAttribute("class","menu-item__title"),e.matches&&e.matches.length){for(var c=0;c<e.matches.length;c++)"title"===e.matches[c].key&&(s.innerHTML=Q(e.matches[c].value,e.matches[c].indices)),"description"===e.matches[c].key?((r=document.createElement("div")).setAttribute("class","menu-item__desc"),r.innerHTML=Q(e.item.description,e.matches[c].indices)):"content"===e.matches[c].key?r||((r=document.createElement("div")).setAttribute("class","menu-item__desc"),r.innerHTML=Q(e.item.content.substring(0,150),e.matches[c].indices)):e.item.description?((r=document.createElement("div")).setAttribute("class","menu-item__desc"),r.innerHTML=e.item.description):((r=document.createElement("div")).setAttribute("class","menu-item__desc"),r.innerHTML=e.item.content.substring(0,150));t.appendChild(s),r&&t.appendChild(r),n.appendChild(i)}});else{var i=document.createElement("li");i.setAttribute("class","dropdown-item"),i.innerText="No results found",n.appendChild(i)}for(;R.hasChildNodes();)R.removeChild(R.lastChild);R.appendChild(n)}function K(e,t){z=document.getElementById("search-mobile-results");var n=document.createElement("div");if(n.setAttribute("class","mobile-search__content"),t.length>0)t.forEach(function(e){var t=document.createElement("a");t.setAttribute("href",e.uri),t.innerHTML='<div class="mobile-search__item"><div class="mobile-search__item--title">📄 '+e.title+'</div><div class="mobile-search__item--desc">'+(e.description?e.description:e.content)+"</div></div>",n.appendChild(t)});else{var i=document.createElement("span");n.appendChild(i)}let r=document.getElementById("search-mobile-results");for(;r.firstChild;)r.removeChild(r.firstChild);z.appendChild(n)}function Q(e,t){if(!t)return e;var n="",i=0;return t.forEach(function(t){if(t[0]===t[1])return null;n+=e.substring(i,t[0])+'<span class="search__highlight">'+e.substring(t[0],t[1]+1)+"</span>",i=t[1]+1}),n+=e.substring(i)}Y&&(B=new XMLHttpRequest,"publication"===j&&"page"!==F?B.open("GET",O+"search.json"):B.open("GET",I+J+"/search.json"),B.setRequestHeader("Content-Type","application/json; charset=utf-8"),B.onload=function(){200===B.status?(G=new Fuse(JSON.parse(B.response.toString("utf-8")),{keys:j.includes("publication")?["title","abstract"]:["title","description","content"],includeMatches:D,shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,isCaseSensitive:!1,findAllMatches:!1,useExtendedSearch:!1}),window.fuse=G):console.error("["+B.status+"]Error:",B.statusText)},B.send());var V=document.getElementById("search"),Z=document.getElementById("search-mobile"),$=document.getElementById("search-results");V&&V.addEventListener("input",function(e){if(!e.target.value|window.innerWidth<770)return $&&$.setAttribute("class","dropdown"),l&&l.setAttribute("data-display","none"),c&&c.setAttribute("data-display","block"),null;W=e.target.value;var t=G.search(e.target.value);if("main"===P)D?ae(W,t):oe(W,t);else{D?X(0,t):U(0,t);var n=$.querySelectorAll(".dropdown-item");n&&n.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})})}}),V&&V.addEventListener("blur",function(){if(window.innerWidth<770)return null;$&&$.setAttribute("class","dropdown")}),V&&V.addEventListener("click",function(e){if(window.innerWidth<770)return null;if(!e.target.value)return $&&$.setAttribute("class","dropdown"),null;W=e.target.value;var t=G.search(e.target.value);if("main"===P)D?ae(W,t):oe(W,t);else{D?X(0,t):U(0,t);var n=$.querySelectorAll(".dropdown-item");n&&n.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})})}});document.getElementById("search-menu"),document.querySelector("#search-menu .dropdown-item.is-active");var ee=null;V&&V.addEventListener("keydown",function(e){if(window.innerWidth<770)return null;"Escape"===e.key&&(l&&l.setAttribute("data-display","none"),c&&c.setAttribute("data-display","block"));var t=document.querySelectorAll("#search-menu .dropdown-item"),n=e.which||e.keyCode;if(!t||!t.length)return null;if("ArrowDown"===e.key||40===n){null===ee?t[ee=0].classList.remove("is-active"):(t[ee].classList.remove("is-active"),ee=ee===t.length-1?0:ee+1),t[ee].classList.add("is-active"),t[ee].offsetTop+t[ee].clientHeight-350>0?document.querySelector(".search-content").scrollTop+=t[ee].getBoundingClientRect().height:0===ee&&(document.querySelector(".search-content").scrollTop=0)}else if("ArrowUp"===e.key||38===n){null===ee?t[ee=t.length-1].classList.remove("is-active"):(t[ee].classList.remove("is-active"),ee=0===ee?t.length-1:ee-1),t[ee].classList.add("is-active");let e=t[ee].offsetTop+t[ee].clientHeight-350;e<0?document.querySelector(".search-content").scrollTop-=t[ee].getBoundingClientRect().height:document.querySelector(".search-content").scrollTop=e+t[ee].getBoundingClientRect().height}else"Enter"===e.key||13===n?t[ee]&&t[ee].getAttribute("href")&&(location.href=t[ee].getAttribute("href")):"Escape"!==e.key&&27!==n||(e.target.value=null,z&&z.classList.remove("is-active"))}),Z&&Z.addEventListener("input",function(e){if(!e.target.value){let e=document.getElementById("search-mobile-results");for(;e.firstChild;)e.removeChild(e.firstChild);return null}W=e.target.value;var t=G.search(e.target.value);K(0,t),D?function(e,t){z=document.getElementById("search-mobile-results");var n=document.createElement("div");if(n.setAttribute("class","mobile-search__content"),t.length)t.forEach(function(e){var t=document.createElement("li"),i=document.createElement("a"),r=null;i.setAttribute("href",e.item.uri),i.appendChild(t),t.setAttribute("class","mobile-search__item");var s=document.createElement("div");if(s.innerHTML=e.item.title,s.setAttribute("class","mobile-search__item--title"),e.matches&&e.matches.length){for(var c=0;c<e.matches.length;c++)"title"===e.matches[c].key&&(s.innerHTML=Q(e.matches[c].value,e.matches[c].indices)),"description"===e.matches[c].key?((r=document.createElement("div")).setAttribute("class","mobile-search__item--desc"),r.innerHTML=Q(e.item.description,e.matches[c].indices)):"content"===e.matches[c].key?r||((r=document.createElement("div")).setAttribute("class","mobile-search__item--desc"),r.innerHTML=Q(e.item.content.substring(0,150),e.matches[c].indices)):e.item.description?((r=document.createElement("div")).setAttribute("class","mobile-search__item--desc"),r.innerHTML=e.item.description):((r=document.createElement("div")).setAttribute("class","mobile-search__item--desc"),r.innerHTML=e.item.content.substring(0,150));t.appendChild(s),r&&t.appendChild(r),n.appendChild(i)}});else{var i=document.createElement("span");n.appendChild(i)}let r=document.getElementById("search-mobile-results");for(;r.firstChild;)r.removeChild(r.firstChild);z.appendChild(n)}(0,t):K(0,t)});var te=document.querySelector("#search-mobile"),ne=document.querySelector(".mobile-search"),ie=document.querySelectorAll(".navbar-search"),re=document.querySelector("#search-mobile-close"),se=document.querySelector("#search-mobile-container"),ce=document.querySelector("#search-mobile-results"),le=document.querySelector("html");function oe(e,t){var n=document.querySelector(".search-result__body").querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){!function(e,t){var n=document.createElement("li");n.className="search-result__item";var i=document.createElement("a");i.innerHTML=t.item.title,i.setAttribute("class","search-result__item--title"),i.setAttribute("href",t.item.permalink);var r=document.createElement("div");r.setAttribute("class","search-result__item--desc"),t.item.description?r.innerHTML=t.item.description:t.item.content&&(r.innerHTML=t.item.content.substring(0,225)),n.appendChild(i),n.appendChild(r),e.appendChild(n)}(i,e)}),l&&l.setAttribute("data-display","block"),c&&c.setAttribute("data-display","none")):(l&&l.setAttribute("data-display","none"),c&&c.setAttribute("data-display","block")),n.parentNode.replaceChild(i,n)}function ae(e,t){var n=document.querySelector(".search-result__body").querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){!function(e,t){var n=document.createElement("li");n.className="search-result__item";var i=null,r=document.createElement("a");if(r.innerHTML=t.item.title,r.setAttribute("class","search-result__item--title"),r.setAttribute("href",t.item.uri),t.matches&&t.matches.length){for(var s=0;s<t.matches.length;s++)"title"===t.matches[s].key&&((r=document.createElement("a")).innerHTML=Q(t.matches[s].value,t.matches[s].indices),r.setAttribute("class","search-result__item--title"),r.setAttribute("href",t.item.uri)),"description"===t.matches[s].key?((i=document.createElement("div")).setAttribute("class","search-result__item--desc"),i.innerHTML=Q(t.item.description,t.matches[s].indices)):"content"===t.matches[s].key?i||((i=document.createElement("div")).setAttribute("class","search-result__item--desc"),i.innerHTML=Q(t.item.content.substring(0,150),t.matches[s].indices)):t.item.description?((i=document.createElement("div")).setAttribute("class","search-result__item--desc"),i.innerHTML=t.item.description):((i=document.createElement("div")).setAttribute("class","search-result__item--desc"),i.innerHTML=t.item.content.substring(0,150));n.appendChild(r),i&&n.appendChild(i),n&&e.appendChild(n)}}(i,e)}),l&&l.setAttribute("data-display","block"),c&&c.setAttribute("data-display","none")):(l&&l.setAttribute("data-display","none"),c&&c.setAttribute("data-display","block")),n.parentNode.replaceChild(i,n)}ne&&(ne.style.display="none"),ie&&ie.forEach(function(e,t){e.addEventListener("click",function(){se&&(se.style.display="block"),te&&te.focus(),le&&(le.style.overflowY="hidden")})}),re&&re.addEventListener("click",function(){if(se&&(se.style.display="none"),te&&(te.value=""),ce)for(;ce.firstChild;)ce.removeChild(ce.firstChild);le&&(le.style.overflowY="visible")}),te&&te.addEventListener("keydown",function(e){var t=e.which||e.keyCode;if("Escape"===e.key||27===t){if(se&&(se.style.display="none"),te&&(te.value=""),ce)for(;ce.firstChild;)ce.removeChild(ce.firstChild);le&&(le.style.overflowY="visible")}})});