---
import { getFooter } from "cross:content";
import Login from "./Login.jsx";

const { wp } = await getFooter();

let ver = Astro.generator.replace('Astro v', '').split('-')[0];
if ( Astro.generator.toLowerCase().includes('rc') || Astro.generator.toLowerCase().includes('release candidate') ) {
    ver = ver + ' (rc)';
}
if ( Astro.generator.toLowerCase().includes('beta') ) {
    ver = ver + ' (beta)';
}
if ( Astro.generator.toLowerCase().includes('alpha') ) {
    ver = ver + ' (alpha)';
}
---

<div class="footer__poweredby">
    <p class="caption">Â© 2016 - {new Date().getFullYear()} <a href="/">CROSS</a>. All rights reserved.<span class="login-btn-wrapper"> <Login client:load />.</span></p>
    <p class="caption powers">
        <a href="https://wordpress.org/" target="_blank" rel="noreferrer"><img src={`https://img.shields.io/badge/wordpress-${wp}-informational?logo=wordpress&style=flat-square`} style="display:block;" /></a>
        <a href="https://astro.build/" target="_blank" rel="noreferrer"><img src={`https://img.shields.io/badge/astro-${ver}-informational?logo=astro&logoColor=white&style=flat-square&color=%23E63BAE`} style="display:block;" /></a>
    </p>
</div>
<style is:inline>
    .login-btn {
        display: inline-block !important;
        padding: 0 !important;
        margin: 0 !important;
        border: none !important;
        width: auto !important;
        min-width: 0 !important;
        height: auto !important;

        color: #e08c48 !important;
        text-decoration: none !important;

        &:hover {
            color: #c7ba00 !important;
            text-decoration: underline !important;
        }
    }
</style>